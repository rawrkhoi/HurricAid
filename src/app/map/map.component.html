<br>
<form>
  <mat-form-field>
    <mat-select [ngClass]="select" placeholder="Select Supply" [(ngModel)]="model.selectSupply" [ngModelOptions]="{standalone: true}">
      <mat-option *ngFor="let supply of supplyOptions" [value]="supply.id">{{supply.type}}</mat-option>
    </mat-select>
  </mat-form-field>
  <button mat-flat-button style="background-color: #3E7CB1; color: whitesmoke" (click)="sendSupply()">Filter</button>
</form>
<div class="map-full-card-content">
  <agm-map
    #gm
    [gestureHandling]="cooperative"
    [scrollwheel]="null"
    [streetViewControl]="false"
    [latitude]="lat"
    [longitude]="lng"
    [zoom]="zoom"
  >
    <div *ngFor="let m of markers;let i = index">
      <agm-marker
        *ngIf="m.help && loggedIn"
        [animation]="'DROP'"
        [latitude]="m.latitude"
        [longitude]="m.longitude"
        [iconUrl]="helpUrl"
        (markerClick)="gm.lastOpen?.close(); gm.lastOpen = infoWindow"
      >
        <agm-info-window #infoWindow>
          <div>
            <strong>Help</strong>
          </div>
          {{m.message}}
          <br>
          <i>Address: </i> <a href="https://www.google.com/maps/search/?api=1&query={{m.latitude}},{{m.longitude}}" target="_blank">{{m.address}}</a>
          <br>
          <i>Created: </i> {{m.createdAt}}
          <br>
          <button (click)="goHelp(m.id_phone)">Go Help</button>
        </agm-info-window>
      </agm-marker>
      <agm-marker
        *ngIf="m.have"
        [animation]="'DROP'"
        [latitude]="m.latitude"
        [longitude]="m.longitude"
        [iconUrl]="haveUrl"
        (markerClick)="gm.lastOpen?.close(); gm.lastOpen = infoWindow"
      >
        <agm-info-window #infoWindow>
          <div>
            <strong>Have</strong>
          </div>
          {{m.message}}
          <br>
          <i>Address: </i> <a href="https://www.google.com/maps/search/?api=1&query={{m.latitude}},{{m.longitude}}" target="_blank">{{m.address}}</a>
          <br>
          <i>Created: </i> {{m.createdAt}}
          <br>
        </agm-info-window>
      </agm-marker>
    </div>
  </agm-map>
</div>
<br><br>
<button mat-fab class="pin-box" style="background-color: rgb(206, 61, 61)" (click)="helpBox()" *ngIf="loggedIn">Help</button>
<button mat-fab class="pin-box" style="background-color: #3E7CB1" color="primary" (click)="haveBox()" *ngIf="loggedIn">Have</button>
<button mat-fab class="pin-box" style="background-color: #3E7CB1" color="primary" (click)="ngOnInit()">Reset</button>